  <html lang="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.18.0/dist/css/uikit.min.css" integrity="sha256-QTsEtHRzyMLduFfoUmOSUGrAomBQuUTwdAMwl/u7fxc=" crossorigin="anonymous">

    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.18.0/dist/js/uikit.min.js" integrity="sha256-B2XXJTBmE0TAqLvnMbzkM9S9A3aVcNuIBFK2GGp+fDE=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.18.0/dist/js/uikit-icons.min.js"></script>

    <!-- jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>


    <div class="uk-section uk-flex uk-flex-center uk-flex-middle" uk-height-viewport="expand: true">
        <div class="uk-width-1-3@s uk-width-1-2@m uk-box-shadow-large uk-padding">
            <h1 class="uk-heading-line uk-text-center"><span>Login</span></h1>
            <form id="loginForm" class="uk-form-stacked">
                <div class="uk-margin">
                    <div class="uk-inline uk-width-1-1">
                        <span class="uk-form-icon" uk-icon="icon: user"></span>
                        <label for="username"></label><input class="uk-input" type="text" placeholder="Username" name="username" id="username">
                    </div>
                </div>

                <div class="uk-margin">
                    <div class="uk-inline uk-width-1-1">
                        <span class="uk-form-icon uk-form-icon-flip" uk-icon="icon: lock"></span>
                        <label for="password"></label><input class="uk-input" type="password" placeholder="Password" name="password" id="password">
                    </div>
                </div>

                <div class="uk-margin uk-text-center">
                    <button class="uk-button uk-button-primary" type="submit">Login</button>
                </div>
            </form>
        </div>
    </div>


    <script>
    $(document).ready(function() {
        $("#loginForm").submit(function(event) {
            event.preventDefault(); // Prevent the form from submitting via the browser
            var username = $("#username").val();
            var password = $("#password").val();
            var data = JSON.stringify({ username: username, password: password });

            $.ajax({
                url: '/login',
                type: 'POST',
                contentType: 'application/json',
                data: data,
                success: function(response) {
                    // Redirect to the cases dashboard
                    window.location.href = '/cases/';
                },
                error: function(xhr, status, error) {
                    console.error("Login failed:", xhr.responseText);
                    // Optionally, update the UI to reflect the error
                }
            });
        });
    });
    </script>
</html>
